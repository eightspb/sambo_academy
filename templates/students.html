<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£—á–µ–Ω–∏–∫–∏ - Sambo Academy</title>
    <link rel="manifest" href="/static/manifest.json">
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
    <!-- Header Component -->
    <div id="app-header"></div>
    
    <!-- Navigation Component -->
    <div id="app-nav"></div>
    
    <main class="container">
        <h1 class="mb-2">–£—á–µ–Ω–∏–∫–∏</h1>
        
        <div class="card mb-2">
            <label class="form-label mb-1">–í—ã–±–µ—Ä–∏—Ç–µ –≥—Ä—É–ø–ø—É:</label>
            <div id="groupChips" class="chips-container"></div>
        </div>
        
        <div style="text-align: right;" class="mb-2">
            <button class="btn btn-primary" onclick="openCreateStudentModal()">+ –î–æ–±–∞–≤–∏—Ç—å —É—á–µ–Ω–∏–∫–∞</button>
        </div>
        
        <div id="studentsList">
            <div class="spinner"></div>
        </div>
    </main>
    
    <!-- Create Student Modal -->
    <div id="createStudentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–î–æ–±–∞–≤–∏—Ç—å —É—á–µ–Ω–∏–∫–∞</h2>
                <button class="modal-close" onclick="modal.close('createStudentModal')">&times;</button>
            </div>
            <form id="createStudentForm">
                <div class="form-group">
                    <label class="form-label">–§–ò–û</label>
                    <input type="text" name="full_name" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
                    <input type="date" name="birth_date" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="tel" name="phone" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Email (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                    <input type="email" name="email" class="form-input">
                </div>
                <div class="form-group">
                    <label class="form-label">–ì—Ä—É–ø–ø–∞</label>
                    <select name="group_id" id="groupSelect" class="form-select" required>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">–¢–∏–ø –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞</label>
                    <select name="subscription_type" class="form-select" required>
                        <option value="8_sessions">8 –∑–∞–Ω—è—Ç–∏–π</option>
                        <option value="12_sessions">12 –∑–∞–Ω—è—Ç–∏–π</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</label>
                    <textarea name="notes" class="form-textarea" rows="3"></textarea>
                </div>
                <button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
            </form>
        </div>
    </div>
    
    <!-- Edit Student Modal -->
    <div id="editStudentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —É—á–µ–Ω–∏–∫–∞</h2>
                <button class="modal-close" onclick="modal.close('editStudentModal')">&times;</button>
            </div>
            <form id="editStudentForm">
                <input type="hidden" id="editStudentId" name="student_id">
                <div class="form-group">
                    <label class="form-label">–§–ò–û</label>
                    <input type="text" id="editFullName" name="full_name" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
                    <input type="date" id="editBirthDate" name="birth_date" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="tel" id="editPhone" name="phone" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Email (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                    <input type="email" id="editEmail" name="email" class="form-input">
                </div>
                <div class="form-group">
                    <label class="form-label">–û—Å–Ω–æ–≤–Ω–∞—è –≥—Ä—É–ø–ø–∞</label>
                    <select id="editGroupId" name="group_id" class="form-select" required>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≥—Ä—É–ø–ø—ã (–±–æ–Ω—É—Å) üéÅ</label>
                    <select id="editAdditionalGroups" name="additional_group_ids" class="form-select" multiple size="4">
                    </select>
                    <button type="button" class="btn btn-secondary btn-sm" onclick="clearAdditionalGroups()" style="margin-top: 0.5rem;">
                        –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ
                    </button>
                    <small class="text-secondary" style="display: block; margin-top: 0.5rem;">
                        üí° –°—Ç—É–¥–µ–Ω—Ç —Å–º–æ–∂–µ—Ç –ø–æ—Å–µ—â–∞—Ç—å —ç—Ç–∏ –≥—Ä—É–ø–ø—ã –±–µ—Å–ø–ª–∞—Ç–Ω–æ. –ü–æ—Å–µ—â–µ–Ω–∏—è –±—É–¥—É—Ç —Å–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞.<br>
                        <strong>–í—ã–±–æ—Ä:</strong> Ctrl+Click (Cmd+Click –Ω–∞ Mac) –¥–ª—è –≤—ã–±–æ—Ä–∞/–æ—Ç–º–µ–Ω—ã.<br>
                        <strong>–û—Ç–º–µ–Ω–∏—Ç—å –≤—ã–±–æ—Ä:</strong> –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—É—é –≥—Ä—É–ø–ø—É —Å –∑–∞–∂–∞—Ç—ã–º Ctrl (Cmd) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ".
                    </small>
                </div>
                <div class="form-group">
                    <label class="form-label">–¢–∏–ø –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞</label>
                    <select id="editSubscriptionType" name="subscription_type" class="form-select" required>
                        <option value="8_sessions">8 –∑–∞–Ω—è—Ç–∏–π</option>
                        <option value="12_sessions">12 –∑–∞–Ω—è—Ç–∏–π</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">–°—Ç–∞—Ç—É—Å</label>
                    <select id="editIsActive" name="is_active" class="form-select" required>
                        <option value="true">–ê–∫—Ç–∏–≤–µ–Ω</option>
                        <option value="false">–ù–µ–∞–∫—Ç–∏–≤–µ–Ω</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</label>
                    <textarea id="editNotes" name="notes" class="form-textarea" rows="3"></textarea>
                </div>
                <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </form>
        </div>
    </div>
    <script src="/static/js/components.js"></script>
    <script src="/static/js/app.js"></script>
    <script src="/static/js/pages/students.js"></script>
</body>
</html>
