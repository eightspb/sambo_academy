# üí∞ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Ä–∞—Å—á–µ—Ç–∞ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –∑–∞ –ø–µ—Ä–µ–Ω–æ—Å—ã

## üìã –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏

### ‚ùå –°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ (–±—ã–ª–æ):

–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–ª–∞—Å—å –æ—Ç **—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π —Ü–µ–Ω—ã –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞**:

```python
# –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ü–µ–Ω—É –∏–∑ SubscriptionPrice
total_price = standard_price_from_db  # 3200‚ÇΩ
session_cost = total_price / sessions_count
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ —É—á–∏—Ç—ã–≤–∞–ª–∏—Å—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Å–∫–∏–¥–∫–∏ –∏ –æ—Å–æ–±—ã–µ —É—Å–ª–æ–≤–∏—è –æ–ø–ª–∞—Ç—ã.

---

### ‚úÖ –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ (—Å—Ç–∞–ª–æ):

–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –æ—Ç **—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ–ø–ª–∞—á–µ–Ω–Ω–æ–π —Å—É–º–º—ã –∑–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü**:

```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –æ–ø–ª–∞—Ç–∞ –∑–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü
actual_paid_amount = sum(payments for current month)

if actual_paid_amount:
    base_price = actual_paid_amount  # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ, —á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –æ–ø–ª–∞—Ç–∏–ª–∏
else:
    base_price = standard_price      # –ï—Å–ª–∏ –æ–ø–ª–∞—Ç—ã –Ω–µ—Ç - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ü–µ–Ω–∞

session_cost = base_price / sessions_count
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** –£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤—Å–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Å–∫–∏–¥–∫–∏ –∏ –æ—Å–æ–±—ã–µ —É—Å–ª–æ–≤–∏—è!

---

## üí° –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏

### –ü—Ä–∏–º–µ—Ä 1: –°–æ —Å–∫–∏–¥–∫–æ–π

**–°–∏—Ç—É–∞—Ü–∏—è:**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ü–µ–Ω–∞: 3200‚ÇΩ (8 –∑–∞–Ω—è—Ç–∏–π)
- –£—á–µ–Ω–∏–∫—É –¥–∞–ª–∏ —Å–∫–∏–¥–∫—É 20%
- **–§–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ–ø–ª–∞—á–µ–Ω–æ –≤ –æ–∫—Ç—è–±—Ä–µ: 2560‚ÇΩ**
- 15 –æ–∫—Ç—è–±—Ä—è: –ø–µ—Ä–µ–Ω–æ—Å

**–°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞:**
```
–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è = 3200‚ÇΩ / 8 = 400‚ÇΩ
```

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**
```
–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è = 2560‚ÇΩ / 8 = 320‚ÇΩ ‚úÖ
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –Ω–æ—è–±—Ä–µ:**
```
–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ü–µ–Ω–∞: 3200‚ÇΩ
–£—á–µ–Ω–∏–∫ —Å —Ç–æ–π –∂–µ —Å–∫–∏–¥–∫–æ–π 20%: 2560‚ÇΩ
–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è: 320‚ÇΩ
–û—Å—Ç–∞–ª–æ—Å—å –æ–ø–ª–∞—Ç–∏—Ç—å: 2560‚ÇΩ - 320‚ÇΩ = 2240‚ÇΩ

–¢–æ –µ—Å—Ç—å —É—á–µ–Ω–∏–∫ —Å–Ω–æ–≤–∞ –æ–ø–ª–∞—Ç–∏—Ç —Å–æ —Å–∫–∏–¥–∫–æ–π –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É!
```

---

### –ü—Ä–∏–º–µ—Ä 2: –û—Å–æ–±–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ

**–°–∏—Ç—É–∞—Ü–∏—è:**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ü–µ–Ω–∞: 4800‚ÇΩ (12 –∑–∞–Ω—è—Ç–∏–π)
- –†–æ–¥–∏—Ç–µ–ª—å –¥–æ–≥–æ–≤–æ—Ä–∏–ª—Å—è —Å —Ç—Ä–µ–Ω–µ—Ä–æ–º: **3600‚ÇΩ**
- **–§–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ–ø–ª–∞—á–µ–Ω–æ –≤ –æ–∫—Ç—è–±—Ä–µ: 3600‚ÇΩ**
- 20 –æ–∫—Ç—è–±—Ä—è: –ø–µ—Ä–µ–Ω–æ—Å

**–°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞:**
```
–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è = 4800‚ÇΩ / 12 = 400‚ÇΩ
```

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**
```
–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è = 3600‚ÇΩ / 12 = 300‚ÇΩ ‚úÖ
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –Ω–æ—è–±—Ä–µ:**
```
–¢–æ –∂–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ: 3600‚ÇΩ
–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è: 300‚ÇΩ
–û—Å—Ç–∞–ª–æ—Å—å –æ–ø–ª–∞—Ç–∏—Ç—å: 3600‚ÇΩ - 300‚ÇΩ = 3300‚ÇΩ

–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ –∏ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ!
```

---

### –ü—Ä–∏–º–µ—Ä 3: –ß–∞—Å—Ç–∏—á–Ω–∞—è –æ–ø–ª–∞—Ç–∞

**–°–∏—Ç—É–∞—Ü–∏—è:**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ü–µ–Ω–∞: 3200‚ÇΩ (8 –∑–∞–Ω—è—Ç–∏–π)
- –†–æ–¥–∏—Ç–µ–ª—å –æ–ø–ª–∞—Ç–∏–ª —á–∞—Å—Ç–∏—á–Ω–æ: **2000‚ÇΩ**
- –û–±–µ—â–∞–ª –¥–æ–ø–ª–∞—Ç–∏—Ç—å –ø–æ–∑–∂–µ: **1200‚ÇΩ**
- 10 –æ–∫—Ç—è–±—Ä—è: –ø–µ—Ä–µ–Ω–æ—Å

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**
```
–§–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ–ø–ª–∞—á–µ–Ω–æ: 2000‚ÇΩ
–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è = 2000‚ÇΩ / 8 = 250‚ÇΩ
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –Ω–æ—è–±—Ä–µ:**
```
–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ü–µ–Ω–∞: 3200‚ÇΩ
–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è: 250‚ÇΩ
–û—Å—Ç–∞–ª–æ—Å—å –æ–ø–ª–∞—Ç–∏—Ç—å: 3200‚ÇΩ - 250‚ÇΩ = 2950‚ÇΩ

–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ–ø–ª–∞—á–µ–Ω–Ω–æ–π —Å—É–º–º–µ!
```

---

### –ü—Ä–∏–º–µ—Ä 4: –ï—â–µ –Ω–µ –æ–ø–ª–∞—Ç–∏–ª

**–°–∏—Ç—É–∞—Ü–∏—è:**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ü–µ–Ω–∞: 3200‚ÇΩ (8 –∑–∞–Ω—è—Ç–∏–π)
- **–£—á–µ–Ω–∏–∫ –µ—â–µ –Ω–µ –æ–ø–ª–∞—Ç–∏–ª –æ–∫—Ç—è–±—Ä—å**
- 5 –æ–∫—Ç—è–±—Ä—è: –ø–µ—Ä–µ–Ω–æ—Å

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**
```
–§–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ–ø–ª–∞—á–µ–Ω–æ: 0‚ÇΩ (NULL)
‚Üì
–ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é —Ü–µ–Ω—É
–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è = 3200‚ÇΩ / 8 = 400‚ÇΩ
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –Ω–æ—è–±—Ä–µ:**
```
–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ü–µ–Ω–∞: 3200‚ÇΩ
–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è: 400‚ÇΩ
–û—Å—Ç–∞–ª–æ—Å—å –æ–ø–ª–∞—Ç–∏—Ç—å: 3200‚ÇΩ - 400‚ÇΩ = 2800‚ÇΩ

–ï—Å–ª–∏ –æ–ø–ª–∞—Ç—ã –Ω–µ—Ç - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ü–µ–Ω–∞!
```

---

### –ü—Ä–∏–º–µ—Ä 5: –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–ª–∞—Ç–µ–∂–µ–π –≤ –º–µ—Å—è—Ü–µ

**–°–∏—Ç—É–∞—Ü–∏—è:**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ü–µ–Ω–∞: 3200‚ÇΩ
- **–û–ø–ª–∞—Ç–∞ 1 (1 –æ–∫—Ç—è–±—Ä—è): 1500‚ÇΩ**
- **–û–ø–ª–∞—Ç–∞ 2 (10 –æ–∫—Ç—è–±—Ä—è): 1700‚ÇΩ**
- **–ò–¢–û–ì–û –∑–∞ –æ–∫—Ç—è–±—Ä—å: 3200‚ÇΩ**
- 15 –æ–∫—Ç—è–±—Ä—è: –ø–µ—Ä–µ–Ω–æ—Å

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**
```
–§–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ–ø–ª–∞—á–µ–Ω–æ: 1500‚ÇΩ + 1700‚ÇΩ = 3200‚ÇΩ
–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è = 3200‚ÇΩ / 8 = 400‚ÇΩ
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—É–º–º–∏—Ä—É–µ—Ç –≤—Å–µ –ø–ª–∞—Ç–µ–∂–∏ –∑–∞ –º–µ—Å—è—Ü!
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### SQL –∑–∞–ø—Ä–æ—Å:

```python
# –ü–æ–ª—É—á–∞–µ–º —Å—É–º–º—É –≤—Å–µ—Ö –ø–ª–∞—Ç–µ–∂–µ–π –∑–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü
existing_payment_result = await db.execute(
    select(func.sum(Payment.amount)).where(
        Payment.student_id == student_id,
        Payment.month == current_month,
        Payment.year == current_year
    )
)
actual_paid_amount = existing_payment_result.scalar()
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- `func.sum(Payment.amount)` - —Å—É–º–º–∏—Ä—É–µ—Ç –≤—Å–µ –ø–ª–∞—Ç–µ–∂–∏
- `Payment.month == current_month` - —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü
- `Payment.year == current_year` - —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–π –≥–æ–¥
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `NULL` –µ—Å–ª–∏ –ø–ª–∞—Ç–µ–∂–µ–π –Ω–µ—Ç

---

### –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –±–∞–∑–æ–≤–æ–π —Ü–µ–Ω—ã:

```python
# Use actual paid amount if exists, otherwise use standard price
base_price = Decimal(str(actual_paid_amount)) if actual_paid_amount else Decimal(str(standard_price))
session_cost = base_price / Decimal(str(sessions_count))
```

**–ü–æ—à–∞–≥–æ–≤–æ:**
1. –ï—Å–ª–∏ `actual_paid_amount` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–Ω–µ NULL) ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ
2. –ï—Å–ª–∏ `actual_paid_amount` = NULL ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ–º `standard_price`
3. –î–µ–ª–∏–º –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–Ω—è—Ç–∏–π (8 –∏–ª–∏ 12)

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–π –∏ –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏

### –¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:

| –°—Ü–µ–Ω–∞—Ä–∏–π | –û–ø–ª–∞—á–µ–Ω–æ | –°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ | –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ | –†–∞–∑–Ω–∏—Ü–∞ |
|----------|----------|---------------|--------------|---------|
| **–°–æ —Å–∫–∏–¥–∫–æ–π 20%** | 2560‚ÇΩ | 400‚ÇΩ | **320‚ÇΩ** | ‚úÖ -80‚ÇΩ |
| **–û—Å–æ–±–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ** | 3600‚ÇΩ | 400‚ÇΩ | **300‚ÇΩ** | ‚úÖ -100‚ÇΩ |
| **–ß–∞—Å—Ç–∏—á–Ω–∞—è –æ–ø–ª–∞—Ç–∞** | 2000‚ÇΩ | 400‚ÇΩ | **250‚ÇΩ** | ‚úÖ -150‚ÇΩ |
| **–ï—â–µ –Ω–µ –æ–ø–ª–∞—Ç–∏–ª** | 0‚ÇΩ (NULL) | 400‚ÇΩ | **400‚ÇΩ** | = 0‚ÇΩ |
| **–ü–æ–ª–Ω–∞—è –æ–ø–ª–∞—Ç–∞** | 3200‚ÇΩ | 400‚ÇΩ | **400‚ÇΩ** | = 0‚ÇΩ |

### –í—ã–≤–æ–¥—ã:

‚úÖ **–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–µ–µ** - —É—á–∏—Ç—ã–≤–∞–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è  
‚úÖ **–ì–∏–±–∫–∞—è** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ —Å—É–º–º–∞–º–∏ –æ–ø–ª–∞—Ç—ã  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è** - –µ—Å–ª–∏ –æ–ø–ª–∞—Ç—ã –Ω–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é —Ü–µ–Ω—É  
‚úÖ **–¢–æ—á–Ω–∞—è** - —Å—É–º–º–∏—Ä—É–µ—Ç –≤—Å–µ –ø–ª–∞—Ç–µ–∂–∏ –∑–∞ –º–µ—Å—è—Ü  

---

## üéØ –ö–æ–≥–¥–∞ —ç—Ç–æ –≤–∞–∂–Ω–æ

### –°–∏—Ç—É–∞—Ü–∏–∏, –≥–¥–µ –Ω–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –∫—Ä–∏—Ç–∏—á–Ω–∞:

#### 1. –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Å–∫–∏–¥–∫–∏
```
–ú–Ω–æ–≥–æ–¥–µ—Ç–Ω–∞—è —Å–µ–º—å—è: -30% —Å–∫–∏–¥–∫–∞
–ë—ã–ª–æ: –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø–æ –ø–æ–ª–Ω–æ–π —Ü–µ–Ω–µ
–°—Ç–∞–ª–æ: –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —Å–æ —Å–∫–∏–¥–∫–æ–π ‚úÖ
```

#### 2. –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
```
–õ—å–≥–æ—Ç–Ω–∏–∫–∏: —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ 2000‚ÇΩ
–ë—ã–ª–æ: –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è = 400‚ÇΩ (–æ—Ç 3200‚ÇΩ)
–°—Ç–∞–ª–æ: –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è = 250‚ÇΩ (–æ—Ç 2000‚ÇΩ) ‚úÖ
```

#### 3. –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
```
–ö–æ–º–ø–∞–Ω–∏—è –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç –∑–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤: 2800‚ÇΩ
–ë—ã–ª–æ: –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è = 400‚ÇΩ
–°—Ç–∞–ª–æ: –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è = 350‚ÇΩ ‚úÖ
```

#### 4. –ê–∫—Ü–∏–∏ –∏ –ø—Ä–æ–º–æ
```
–ê–∫—Ü–∏—è "–ø–µ—Ä–≤—ã–π –º–µ—Å—è—Ü -50%": 1600‚ÇΩ
–ë—ã–ª–æ: –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è = 400‚ÇΩ (–Ω–µ—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ!)
–°—Ç–∞–ª–æ: –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è = 200‚ÇΩ ‚úÖ
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### 1. –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏

**–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç –æ—Ç–º–µ—Ç–∫–∏ "–ü–µ—Ä–µ–Ω–æ—Å":**
- –ë–µ—Ä–µ—Ç—Å—è —Ç–µ–∫—É—â–∞—è –æ–ø–ª–∞—Ç–∞ –Ω–∞ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç
- –ï—Å–ª–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–Ω–æ—Å–∞ –¥–æ–±–∞–≤—è—Ç—Å—è –µ—â–µ –ø–ª–∞—Ç–µ–∂–∏ - –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ù–ï –ø–µ—Ä–µ—Å—á–∏—Ç–∞–µ—Ç—Å—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–û—Ç–º–µ—á–∞–π—Ç–µ –ø–µ—Ä–µ–Ω–æ—Å—ã **–ø–æ—Å–ª–µ** —Ç–æ–≥–æ, –∫–∞–∫ —É—á–µ–Ω–∏–∫ –æ–ø–ª–∞—Ç–∏–ª –º–µ—Å—è—Ü.

---

### 2. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏

**–°–∏—Å—Ç–µ–º–∞ —Å—É–º–º–∏—Ä—É–µ—Ç –í–°–ï –ø–ª–∞—Ç–µ–∂–∏ –∑–∞ –º–µ—Å—è—Ü:**
```sql
SELECT SUM(amount) FROM payments 
WHERE month = X AND year = Y
```

**–ü—Ä–∏–º–µ—Ä:**
```
–û–ø–ª–∞—Ç–∞ 1: 1000‚ÇΩ
–û–ø–ª–∞—Ç–∞ 2: 1000‚ÇΩ
–û–ø–ª–∞—Ç–∞ 3: 1200‚ÇΩ
–ò–¢–û–ì–û: 3200‚ÇΩ

–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è = 3200‚ÇΩ / 8 = 400‚ÇΩ ‚úÖ
```

---

### 3. –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –∑–∞ –ø—Ä–æ—à–ª—ã–µ –º–µ—Å—è—Ü—ã

**–°–∏—Å—Ç–µ–º–∞ –ù–ï —É—á–∏—Ç—ã–≤–∞–µ—Ç:**
- –ü–ª–∞—Ç–µ–∂–∏ –∑–∞ –¥—Ä—É–≥–∏–µ –º–µ—Å—è—Ü—ã
- –î–æ–ª–≥–∏ –∏–ª–∏ –ø–µ—Ä–µ–ø–ª–∞—Ç—ã
- –¢–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü –ø–µ—Ä–µ–Ω–æ—Å–∞

**–ü—Ä–∏–º–µ—Ä:**
```
–°–µ–Ω—Ç—è–±—Ä—å: –æ–ø–ª–∞—Ç–∏–ª 2000‚ÇΩ
–û–∫—Ç—è–±—Ä—å: –æ–ø–ª–∞—Ç–∏–ª 3200‚ÇΩ ‚Üê –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
–ü–µ—Ä–µ–Ω–æ—Å –≤ –æ–∫—Ç—è–±—Ä–µ ‚Üí –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –æ—Ç 3200‚ÇΩ
```

---

### 4. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏

**–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ù–ï –º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- –ï—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ç—É—Å "–ü–µ—Ä–µ–Ω–æ—Å" - payment –æ—Å—Ç–∞–µ—Ç—Å—è
- –ï—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –æ–ø–ª–∞—Ç—É –ø–æ—Å–ª–µ –ø–µ—Ä–µ–Ω–æ—Å–∞ - –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ù–ï –ø–µ—Ä–µ—Å—á–∏—Ç–∞–µ—Ç—Å—è

**–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:**
1. –£–¥–∞–ª–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—É—é –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é –≤—Ä—É—á–Ω—É—é (–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ü–ª–∞—Ç–µ–∂–µ–π)
2. –ó–∞–Ω–æ–≤–æ –æ—Ç–º–µ—Ç–∏—Ç—å "–ü–µ—Ä–µ–Ω–æ—Å" (—Å–æ–∑–¥–∞—Å—Ç—Å—è –Ω–æ–≤–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è)

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –° –æ–ø–ª–∞—Ç–æ–π

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞–π—Ç–µ payment –Ω–∞ –æ–∫—Ç—è–±—Ä—å 2025: 2560‚ÇΩ (—Å–∫–∏–¥–∫–∞ 20%)
2. –û—Ç–º–µ—Ç—å—Ç–µ —É—á–µ–Ω–∏–∫–∞ –∫–∞–∫ "–ü–µ—Ä–µ–Ω–æ—Å" 15 –æ–∫—Ç—è–±—Ä—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–ª–∞—Ç–µ–∂–∏ –Ω–∞ –Ω–æ—è–±—Ä—å 2025

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è: 320‚ÇΩ (2560‚ÇΩ / 8)
–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∑–∞ –ø–µ—Ä–µ–Ω–æ—Å –æ—Ç 15.10.2025"
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ë–µ–∑ –æ–ø–ª–∞—Ç—ã

**–®–∞–≥–∏:**
1. –ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ payment –Ω–∞ –æ–∫—Ç—è–±—Ä—å
2. –û—Ç–º–µ—Ç—å—Ç–µ —É—á–µ–Ω–∏–∫–∞ –∫–∞–∫ "–ü–µ—Ä–µ–Ω–æ—Å" 10 –æ–∫—Ç—è–±—Ä—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–ª–∞—Ç–µ–∂–∏ –Ω–∞ –Ω–æ—è–±—Ä—å

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è: 400‚ÇΩ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ü–µ–Ω–∞ 3200‚ÇΩ / 8)
–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∑–∞ –ø–µ—Ä–µ–Ω–æ—Å –æ—Ç 10.10.2025"
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–ª–∞—Ç–µ–∂–µ–π

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞–π—Ç–µ payment #1: 1500‚ÇΩ (01.10.2025)
2. –°–æ–∑–¥–∞–π—Ç–µ payment #2: 1700‚ÇΩ (05.10.2025)
3. –û—Ç–º–µ—Ç—å—Ç–µ "–ü–µ—Ä–µ–Ω–æ—Å" 15 –æ–∫—Ç—è–±—Ä—è
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–ª–∞—Ç–µ–∂–∏ –Ω–∞ –Ω–æ—è–±—Ä—å

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è: 400‚ÇΩ (3200‚ÇΩ / 8)
–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—É–º–º–∏—Ä–æ–≤–∞–ª–∞: 1500‚ÇΩ + 1700‚ÇΩ = 3200‚ÇΩ
```

---

### SQL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏
SELECT 
    s.full_name,
    p.amount as compensation,
    p.payment_date,
    p.notes
FROM payments p
JOIN students s ON s.id = p.student_id
WHERE p.notes LIKE '%–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è%'
  AND p.month = 11
  AND p.year = 2025
ORDER BY p.payment_date;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–ø–ª–∞—Ç—ã –∑–∞ –æ–∫—Ç—è–±—Ä—å
SELECT 
    s.full_name,
    SUM(p.amount) as total_paid,
    COUNT(*) as payment_count
FROM payments p
JOIN students s ON s.id = p.student_id
WHERE p.month = 10
  AND p.year = 2025
  AND p.notes NOT LIKE '%–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è%'
GROUP BY s.id, s.full_name;
```

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ç—Ä–µ–Ω–µ—Ä–æ–≤:

1. **–û—Ç–º–µ—á–∞–π—Ç–µ –ø–µ—Ä–µ–Ω–æ—Å—ã –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã**
   - –ü–æ–¥–æ–∂–¥–∏—Ç–µ, –ø–æ–∫–∞ —É—á–µ–Ω–∏–∫ –æ–ø–ª–∞—Ç–∏—Ç –º–µ—Å—è—Ü
   - –¢–æ–≥–¥–∞ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –±—É–¥–µ—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–∞ –æ—Ç —Ä–µ–∞–ª—å–Ω–æ–π —Å—É–º–º—ã

2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏**
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–ª–∞—Ç–µ–∂–µ–π —Å–ª–µ–¥—É—é—â–µ–≥–æ –º–µ—Å—è—Ü–∞
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—É–º–º–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–∫–∏–¥–∫–µ —É—á–µ–Ω–∏–∫–∞

3. **–ò–Ω—Ñ–æ—Ä–º–∏—Ä—É–π—Ç–µ —Ä–æ–¥–∏—Ç–µ–ª–µ–π**
   - –û–±—ä—è—Å–Ω–∏—Ç–µ, —á—Ç–æ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ—Ç –æ–ø–ª–∞—á–µ–Ω–Ω–æ–π —Å—É–º–º—ã
   - –ü–æ–∫–∞–∂–∏—Ç–µ —Ä–∞—Å—á–µ—Ç, –µ—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã

---

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:

1. **–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ —Å–∫–∏–¥–∫–∏**
   - –°–ª–µ–¥–∏—Ç–µ, —á—Ç–æ–±—ã —Å–∫–∏–¥–∫–∏ –±—ã–ª–∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤ payment
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–π

2. **–û–±—É—á–∏—Ç–µ —Ç—Ä–µ–Ω–µ—Ä–æ–≤**
   - –û–±—ä—è—Å–Ω–∏—Ç–µ –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É
   - –ü–æ–∫–∞–∂–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã —Ä–∞—Å—á–µ—Ç–∞

3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Å–∏—Å—Ç–µ–º—É**
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏
   - –í—ã—è–≤–ª—è–π—Ç–µ –∞–Ω–æ–º–∞–ª–∏–∏

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ–∑—é–º–µ

### –ì–ª–∞–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ | –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ |
|----------|--------------|--------------|
| **–ë–∞–∑–∞ —Ä–∞—Å—á–µ—Ç–∞** | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ü–µ–Ω–∞ | **–§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –æ–ø–ª–∞—Ç–∞** |
| **–£—á–µ—Ç —Å–∫–∏–¥–æ–∫** | ‚ùå –ù–µ—Ç | ‚úÖ **–î–∞** |
| **–ì–∏–±–∫–æ—Å—Ç—å** | –ñ–µ—Å—Ç–∫–∞—è | ‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è** |
| **–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å** | –ß–∞—Å—Ç–∏—á–Ω–æ | ‚úÖ **–ü–æ–ª–Ω–∞—è** |

### –§–æ—Ä–º—É–ª–∞:

```python
if –µ—Å—Ç—å_–æ–ø–ª–∞—Ç–∞_–∑–∞_—Ç–µ–∫—É—â–∏–π_–º–µ—Å—è—Ü:
    –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è = —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è_–æ–ø–ª–∞—Ç–∞ / –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–∑–∞–Ω—è—Ç–∏–π
else:
    –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è = —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è_—Ü–µ–Ω–∞ / –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–∑–∞–Ω—è—Ç–∏–π
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

‚úÖ **–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ** –¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤ —Å–æ —Å–∫–∏–¥–∫–∞–º–∏  
‚úÖ **–ì–∏–±–∫–æ** –¥–ª—è –æ—Å–æ–±—ã—Ö —Å–æ–≥–ª–∞—à–µ–Ω–∏–π  
‚úÖ **–¢–æ—á–Ω–æ** —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –ø–ª–∞—Ç–µ–∂–∏  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ** –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ–ø–ª–∞—Ç—ã  

---

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-10-06  
**–í–µ—Ä—Å–∏—è:** 2.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –û–ë–ù–û–í–õ–ï–ù–û –ò –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û
